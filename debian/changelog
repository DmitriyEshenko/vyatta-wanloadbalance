vyatta-wanloadbalance (0.13.16) unstable; urgency=low

  * fix for bug 4698
  * fix for bug 4699. Note that dhcp nexthop detection was also broken
    due to changes in the location of the dhcp client information. this
    was also

 -- slioch <slioch@eng-140.vyatta.com>  Wed, 08 Jul 2009 11:21:45 -0700

vyatta-wanloadbalance (0.13.15) unstable; urgency=low

  * need dummy node.def on op side of things for cmds to show up.

 -- slioch <slioch@eng-140.vyatta.com>  Tue, 07 Jul 2009 16:29:32 -0700

vyatta-wanloadbalance (0.13.14) unstable; urgency=low

  * fix for bug 4649 and 4248. needs documentation.

 -- slioch <slioch@eng-140.vyatta.com>  Tue, 07 Jul 2009 16:24:55 -0700

vyatta-wanloadbalance (0.13.13) unstable; urgency=low

  * added configuration hook to execute script on interface state
    change. configurable via conf mode. environment variables identify
    interface and new state.
  * fix for bug 3704. move primary call to wlb mangle tables out of
    prerouting and output table scope. now tables are not flushed on
    removal.

 -- slioch <slioch@eng-140.vyatta.com>  Tue, 07 Jul 2009 15:38:05 -0700

vyatta-wanloadbalance (0.13.12) unstable; urgency=low

  * fix for bug 4072.

 -- slioch <slioch@eng-140.vyatta.com>  Tue, 07 Jul 2009 13:20:50 -0700

vyatta-wanloadbalance (0.13.11) unstable; urgency=low

  * fix for bug 4587. Remove output file on orderly shutdown.

 -- slioch <slioch@eng-140.vyatta.com>  Tue, 07 Jul 2009 13:03:23 -0700

vyatta-wanloadbalance (0.13.10) unstable; urgency=low

  * fix for bug 4658. Move enable-source-based-routing to per rule basis
    from global setting.

 -- slioch <slioch@eng-140.vyatta.com>  Tue, 07 Jul 2009 12:45:53 -0700

vyatta-wanloadbalance (0.13.9) unstable; urgency=low

  * fix for bug 4409. Additional dynamic support for dynamic policy
    route and snat when wlb is configured and during runtime. also fix
    for wlb when running in
  * fix for bug 4352.
  * fix for bug 4130. Requires additional configuration outside WLB to
    support network reachability determination. All locally source
    routes need an entry in table
  * fixed output mangle rule creation. need to suppress inbound
    interface on rule creation for output rule entry as these are
    locally sourced packets.
  * fix for bug 4578. Added warning message when the user configures
    inbound and outbound on same rule, but will allow configuration with
    warning.
  * filter on output table for packets already marked in the prerouting
    table
  * ping target is now optional. nexthop will be used in place of ping
    target if ping target is not specified. this is also true of dhcp
    configurations.
  * fix for bug 4624. source port configuration was incorrectly
    configured.
  * fix for bug 4351. Move conntrack to feature specific chain for raw
    table.
  * fix for bug  4083. Names in mangle table now reference outbound
    interface as per comments in bug.

 -- slioch <slioch@eng-140.vyatta.com>  Tue, 07 Jul 2009 12:37:07 -0700

vyatta-wanloadbalance (0.13.8) unstable; urgency=low

  [ slioch ]
  * handle condition where system time changes to time before last
    success value. in this case set value until 0 until system time
    catches up. only

 -- An-Cheng Huang <ancheng@vyatta.com>  Fri, 29 May 2009 18:37:36 -0700

vyatta-wanloadbalance (0.13.7) unstable; urgency=low

  * missing configuration node required to configure sourced based
    routing.

 -- slioch <slioch@eng-140.vyatta.com>  Fri, 15 May 2009 14:17:48 -0700

vyatta-wanloadbalance (0.13.6) unstable; urgency=low

  * On socket bind error return and do not attempt to send icmp packet

 -- slioch <slioch@eng-140.vyatta.com>  Sat, 02 May 2009 00:00:18 -0700

vyatta-wanloadbalance (0.13.5) unstable; urgency=low

  * need to convert commit tag on wlb to end tag.

 -- slioch <slioch@eng-140.vyatta.com>  Sat, 18 Apr 2009 20:15:20 -0700

vyatta-wanloadbalance (0.13.4) unstable; urgency=low

  * added source based routing feature.

 -- slioch <slioch@eng-140.vyatta.com>  Thu, 02 Apr 2009 09:50:40 -0700

vyatta-wanloadbalance (0.13.3) unstable; urgency=low

  * added support for global level conntrack flushing on interface state
    change. Default configuration is to disable this feature.

 -- slioch <slioch@eng-140.vyatta.com>  Sat, 14 Feb 2009 16:31:36 -0800

vyatta-wanloadbalance (0.13.2) unstable; urgency=low

  [ Stephen Hemminger ]
  * Fix buggy shell script

  [ slioch ]
  * fix for problem found in webgui on restarting process.

  [ An-Cheng Huang ]

 -- An-Cheng Huang <ancheng@vyatta.com>  Wed, 28 Jan 2009 18:28:46 -0800

vyatta-wanloadbalance (0.13.1) unstable; urgency=low

  [ An-Cheng Huang ]
  * add support for development build

  [ Stephen Hemminger ]
  * Convert to Vyatta::

  [ slioch ]
  * formatting part of 3191 fixed with this bug. moved from dumping
    proc/net/ip_conntrack output to easier to digest formatted output.
  * fix for 3191--now use conntrack binary to return relevant entries
    that
  * added sigusr2 to wake up process from sleep call. will be used to
    wake up process when address changes via dhcp.
  * added support for dhcp in daemon. On receiving SIGUSR2 daemon checks
    and updates new address for snat, and nexthop for lb routing

  [ An-Cheng Huang ]
  * update maintainer information
  * "files" file should be removed before package build

  [ slioch ]
  * completes work to support dhcp for wan lb.
  * fixed bug with dhcp support--route was not be reinserted on link
    down when configured for dhcp. need to retrieve actual nexthop in
    this case.
  * fix for bug 3968. enhanced show wan load balance according to
    preferred design in bug listing. Also exposed time of last

  [ An-Cheng Huang ]

 -- An-Cheng Huang <ancheng@vyatta.com>  Thu, 08 Jan 2009 12:21:11 -0800

vyatta-wanloadbalance (0.13) unstable; urgency=low

	  3.2.0
  [ Mark O'Brien ]


  [ slioch ]
  * fix for bug 3608. add connnection comment to sudoers directory.
  * fix for bug 3843. added warning level syslong messages on any
    interface that changes state in wan lb.
  * fix for bug 3817
  * allow free form text field entry for inbound-interface. This allows
    a wildcard (iptables style) interface to be set, allowing an
  * missed this configuration node on checkin fix for bug 3332. Now
    command is available.
  * fix for bug 3710. also found and fixed another bug with restarting
    of wlb after changing rule set. this simplifies the application of
    the rules to

  [ Mike Larson ]
  * modified failover algorithm to provide deterministic control over
    which interface is selected. The interface with the highest weight
    will be preferred.
  * add rule failover support. Failover mode can now be specified on a
    specific rule. This rule will only direct traffic to a single active
    interface, on failure of the ping target traffice will be directed
    out an alternate interface.
  * revised fix for dst-range bug to mirror fix for src.

  [ slioch ]
  * fix for bug 3621.

  [ root ]
  * fix for bug 3608.
  * snat rules created by wanloadbanana are now applied before snat
    rules created by nat. this shouldn't be a problem for nat, as the
    wanloadbanana rules are filters on packets marked in the mangle
    table.
  * Partial fix for bug 3332. WLB can now be configured to run without
    creating implicit source nat rules.
  * fixed bug in parsing multiple rule sets
  * fix for bug 3620. exclusion option is now provided and will create
    an accept rule. For an exclusion the user does not need to configure
    interfaces for that rule to balance across.
  * fix for bug 3530. now nexthop and inbound-interface are required for
    a successful commit.
  * added new command that dumps the ip conntrack tables for connections
    that have been marked by wan load balance. This addresses
    enhancement request bug 3191.

  [ Stephen Hemminger ]
  * Handle quagga package name change

  [ root ]
  * fix for bug 3446. protocol assignment is now identical to firewall.

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@firebolt.vyatta.com>  Tue, 25 Nov 2008 19:11:06 -0800

vyatta-wanloadbalance (0.12) unstable; urgency=low

	  3.1.2
  [ Mark O'Brien ]


  [ root ]
  * my bad. last commit I changed the conntrack module name to uppercase
    which caused the snat rules to not match the iptables module and
    therefore fail on load. this should fix the problem, tested icmp
    with standard configuration and default routes, works now.
  * fix for bug 3245. need sudo for the rm.

  [ Michael Larson ]
  * fix for bug 3437
  * fix for 2948--additional nodes need to refer to interface values.
  * fix for bug 2779.
  * fix for bug 3410. added entry for marking of connectionless packets.
  * fix for bug 3393. apply default route on poll interval if route is
    not present in policy table. This fixes a problem if the interface
    is

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@firebolt.vyatta.com>  Wed, 23 Jul 2008 21:36:20 -0700

vyatta-wanloadbalance (0.11) unstable; urgency=low

	  3.1.1
  [ Mark O'Brien ]


  [ Michael Larson ]
  * fix for bug 3390, ip rule entry is now converted to a hex value.
  * missing socket close statement.
  * fix for bug 3373. also modified error message and return value on
    not obtaining socket resource.
  * fixed up status command output and add wait for interface address
    check on wlb boot

  [ rbalocca ]
  * Add missing includes

  [ Michael Larson ]
  * need to add conntrack entry to the raw table. also cleaned up a few
  * back out wait on parent pid for child--was causing problems when
    loading config on boot.
  * remove stdio statements
  * reworked weight calculation. There were errors in how weights were
    computed and applied when links failed.
  * change on deamon option for parent process to wait
  * added version information for wanloadbalance.
  * fix jump instruction for source nat. fix route entry for interfaces
    that are in admin/link down on wan lb
  * fixed problem with ping target failure that is not the last listed
    interface, now the correct mangle wan load balance is referenced
    when an

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@firebolt.vyatta.com>  Sat, 28 Jun 2008 11:22:31 -0700

vyatta-wanloadbalance (0.10) unstable; urgency=low

	  3.1.0
  [ Mark O'Brien ]


  [ Michael Larson ]
  * added connmark snat rules. means that nat does not need to be
    configured separately for wlb to work--this is
  * catch empty ping target on ping send. fixes error msgs for
    unresolved configured host name--possible fix for bug 3245.
  * needs accept to truncation rule evaluation on a match. this should
    now distribute traffic across interfaces.
  * modified prerouting decisions to work with connmark. user needs to
    specify inbound interface now (although
  * fix for iptables rules in tcp state. should fix main problem with
    wan
  * added contract entry for state NEW for initial interface. Also add
    parameter to specify nexthop via interface in

  [ rbalocca ]
  * Ignore log file
  * Convert to our method of changelog creation

  [ Mohit Mehta ]
  * Fix Bug 3069 Help strings should be standardized

  [ Michael Larson ]
  * minor text change on conf error: bug 2951

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@firebolt.vyatta.com>  Tue, 17 Jun 2008 09:27:42 -0700

vyatta-wanloadbalance (0.9) unstable; urgency=low

  3.0.5


 -- Mark O'Brien <mobrien@vyatta.com>  Tue, 06 May 2008 12:43:45 -0700

vyatta-wanloadbalance (0.8) unstable; urgency=low

  3.0.4


 -- Mark O'Brien <mobrien@vyatta.com>  Mon, 05 May 2008 16:41:02 -0700

vyatta-wanloadbalance (0.7) unstable; urgency=low

  3.0.3
  [ Mark O'Brien ]


  [ rbalocca ]
  * Indicate the VC4.0.2 release candidate in the changelog

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@vyatta.com>  Tue, 29 Apr 2008 16:42:50 -0700

vyatta-wanloadbalance (0.6) unstable; urgency=low

  VC4.0.2


 -- Mark O'Brien <mobrien@vyatta.com>  Sat, 19 Apr 2008 11:56:32 -0700

vyatta-wanloadbalance (0.5) unstable; urgency=low

  VC4.0.2 release candidate
  [ Mark O'Brien ]


  [ Stephen Hemminger ]
  * validate interface name in template
  * allow vlan for load-balancing interface

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@vyatta.com>  Wed, 16 Apr 2008 09:50:33 -0700

vyatta-wanloadbalance (0.4) unstable; urgency=low

  3.0.2
  [ Mark O'Brien ]

  * 3.0.1

  [ Michael Larson ]
  * modified configuration to mirror nat/firewall for port/address
    configuration. added port configuration support for common port
  * added final validation to address ranges and negation operators. now
    behavior is the same as firewall and nat.
  * removed network from configuration. changed configuration error
    without valid rule to warning. fixed up path to iptables for status
    show command.

  [ rbalocca ]
  * Fix debian dependencies
  * Set dependencies on either bash or vyatta-bash

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@vyatta.com>  Fri, 04 Apr 2008 18:01:25 -0700

vyatta-wanloadbalance (0.3) unstable; urgency=low

  VC4.0.1
  [ Mark O'Brien ]


  [ Michael Larson ]
  * changed Wan to WAN in show command when not configured.
  * fix for 2951. checks for at least one interface with ping target and
    one rule with an interface defined.

  [ Stephen Hemminger ]
  * convert from VPL to GPLv2
  * update from VPL1 to GPLv2

  [ rbalocca ]
  * Fix upgrade of wanloadbalance
  * postrm script was failing

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@vyatta.com>  Tue, 18 Mar 2008 19:05:20 -0700

vyatta-wanloadbalance (0.2) unstable; urgency=low

  vc4.0.0
  [ Mark O'Brien ]


  [ Michael Larson ]
  * added init script
  * more minor project modifications
  * asdf
  * fix debian files so pkg is created correctly
  * more package mods--added conf file, removed configuration files that
    shouldn't be part of this package.
  * initial checkin of skeletal cli commands for wan load-balancing,
    plus other packaging changes.
  * checkin of cli commands for wan loadbalancing. some cleanup of the
    project--more cli work to follow...
  * additional changes to go with last push
  * numerous changes: added help, added init script, modified source to
    support daemon and pid creation, fixed conf file creation when
  * moved most stdout messages to new debug output command. reworked
    (simplified) init script so that rules table is properly cleaned
  * fixed postinst for init script,+ other cleanup
  * fixed up node.def files as per an-cheng's changes. more pkg stuff
    for the init script. added default values.
  * init script fix. set up show commands. create output file for wan lb
    status and provide show status cmd.
  * processing added to compute elapsed time in pretty output format for
    show commands. time since last failure/success per
  * whole raft of cli related changes. Fixed bugs in display output--
    added error checking on some configuration combinations. added
  * added status command, more cli bugfixes and postinst fix.
  * changed port definition to be consistent with fw/nat (i.e. single
    port line allow multi-port configuration). init script fix
  * missing bracket in conf file creation.
  * more install stuff--
  * added back status command to inst instructions.
  * fix for post instruction for status show cmd
  * fixed errors introduced when converting to new port definitions.
  * fixing installation of init script.
  * more cleanup.
  * added postinst instruction for moving show cmds.
  * fix for bug 2780.
  * more packaging tweaks and bugfixes.
  * fixed init script for no start argument provided for configuration
    file. def is /var/load-balance/wlb.con
  * stop wan lb process on delete of load-balance node.
  * provide help string at root of load-balancing configuration.
  * fix for bug 2781. sudo needed for non-root login for file operations
  * non-root support for status op cmd
  * fix for bug 2841. wanloadbalance is started on configuration, and on
    load of configuration (including boot
  * added vyatta-wanloadbalance.init
  * suppress stderr from commit.
  * fix postrm install script to point to current init script
  * cli specifies timeout value in seconds--conf takes value in
    milliseconds. Need to multiple cli value by
  * add check in cli for both address and network configured--in this
    case generate configuration error.
  * fixed bug where protocol is all or icmp and source/destination
    address/network are set. address/network were being ignore--now
  * clean up cosmetics in help
  * critical fix for bug 2882 :)

  [ rbalocca ]
  * Remove derived files
  * Add derived files to .gitignore

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@vyatta.com>  Mon, 25 Feb 2008 17:40:18 -0800

vyatta-wanloadbalance (0.1) unstable; urgency=low

  * Initial Release.

 -- Michael Larson <mike@vyatta.com>  Fri, 14 Dec 2007 17:31:53 -0700
